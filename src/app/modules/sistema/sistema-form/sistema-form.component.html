<div *ngIf="!carregando; else loading">
  <form #formSistema="ngForm" class="mt-3">
    <h4 class="mb-1">Dados do Sistema</h4>
    <mat-form-field class="w-20 pr-3">
      <input matInput placeholder="Código do Sistema" name="codigoSistema" [(ngModel)]="sistema.codigoSistema"  [disabled]="this.acao == 'edit'" required>
    </mat-form-field>
    <mat-form-field class="w-70">
      <input matInput placeholder="Nome do Sistema" name="nomeSistema" [(ngModel)]="sistema.nomeSistema" required>
    </mat-form-field>
    <mat-form-field class="w-20 pr-3">
      <mat-select placeholder="Posição do Menu" name="posicaoMenu" [(ngModel)]="sistema.posicaoMenu">
        <mat-option *ngFor="let p of posicoes" [value]="p.key">{{p.value}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field class="w-20 pr-3">
      <mat-select placeholder="Origem do Sistema" name="origemSistema" [(ngModel)]="sistema.origemSistema">
        <mat-option *ngFor="let o of origens" [value]="o.key">{{o.value}}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-divider></mat-divider>
    <mat-tab-group style="min-height: 450px;" *ngIf="acao === 'edit'  ">
      <mat-tab label="Perfis"><app-perfil [codigoSistema]="sistema.codigoSistema"></app-perfil></mat-tab>
      <mat-tab label="Funções">Content 2

      </mat-tab>
      <mat-tab label="Arquivos Web">Content 3

      </mat-tab>
    </mat-tab-group>
  </form>


  <mat-divider></mat-divider>
  <div class="w-70 pr-3 mt-2 mb-2">
    <button mat-stroked-button (click)="salvar(sistema)" color="primary" [disabled]="formSistema.invalid">
      Salvar
    </button>
    <button mat-stroked-button (click)="excluir(sistema)" class="ml-1" color="warn" *ngIf="acao != 'new'">
      Excluir
    </button>
    <button mat-stroked-button [routerLink]="['/sistema/list']" class="ml-1">
      Cancelar
    </button>
  </div>
</div>
<ng-template #loading>
    Carregando ...
</ng-template>